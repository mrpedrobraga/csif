<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Compact Structure Interchange Format"><title>stif_test - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="stif_test" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../stif_test/index.html">stif_test</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">stif_test</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/stif_test/lib.rs.html#1-36">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="compact-structure-interchange-format"><a href="#compact-structure-interchange-format">Compact Structure Interchange Format</a></h2>
<p>A bytewise serialization/deserialization format to efficiently store/transmit
structured data on files or over the web.</p>
<p>Unlike formats such as JSON, this format doesn’t store the schema of the transferred data,
only the individual data points. </p>
<p>Types such as <a href="https://doc.rust-lang.org/1.75.0/std/primitive.u8.html" title="primitive u8"><code>u8</code></a>, <a href="https://doc.rust-lang.org/1.75.0/std/primitive.i32.html" title="primitive i32"><code>i32</code></a>, <a href="https://doc.rust-lang.org/1.75.0/std/primitive.bool.html" title="primitive bool"><code>bool</code></a>, are stored directly into the file in the precise
amount of bytes needed to represent them, and no more. The only thing it wont do is store
values in spaces less than 1 byte long.</p>
<p>Dynamically sized types such as lists, maps, <a href="https://doc.rust-lang.org/1.75.0/core/option/enum.Option.html" title="enum core::option::Option"><code>Option</code></a> and <a href="https://doc.rust-lang.org/1.75.0/alloc/string/struct.String.html" title="struct alloc::string::String"><code>String</code></a>s are stored at the end of the file,
and referred in-line through a [<code>SizedPointer</code>].</p>
<p>Structs are saved in an interesting way: </p>
<p>They save their fields side by side, tightly packed, except array or struct fields (even if they’re reasonably sized).
Nested struct fields are saved through a thin pointer (since their size IS properly known). This choice was made so formats
with complex information, if transmitted gradually over a stream, would reveal its fields as if you were doing Breadth-First traversal
on the structure tree. This also allows loading the file partially when accessing up to a level of depth on the tree.</p>
<h3 id="size"><a href="#size">Size</a></h3>
<p>This format is as size-efficient as possible, while using whole bytes, having dynamically sized data and being BFT.
If it wasn’t for the third constraint (being BFT), it would be possible to save space on structures by saving them inline.
Perhaps this could be a future feature?</p>
<h3 id="parallelism"><a href="#parallelism">Parallelism</a></h3>
<p>This format is easy to parallelize when deserializing, because structures’s sizes and field positions are known beforehand.
Serializing can be done in parallel, slightly less efficiently, if each concurrent job share a stack they can allocate from/push to.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.SizedField"><code>pub use csif::io::<a class="trait" href="csif/io/trait.SizedField.html" title="trait stif_test::csif::io::SizedField">SizedField</a>;</code></div></li><li><div class="item-name" id="reexport.DynSizedField"><code>pub use csif::io::<a class="trait" href="csif/io/trait.DynSizedField.html" title="trait stif_test::csif::io::DynSizedField">DynSizedField</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="csif/index.html" title="mod stif_test::csif">csif</a></div></li></ul></section></div></main></body></html>